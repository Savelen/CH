# CH (Canvas Helper)

## Начало работы

Для начала работы нужно подключить скрипт canvas.js (Находиться в */js/canvas.js*). После подключения нужно вызвать функцию `dataCanvas(can, arrel = new Map(), activ = new Map()) ` которая вернёт объект с интерфейсом.
```js
// Получаем элемент
let canvas = document.querySelector('#c1');
let canvas2 = document.querySelector('#c2');
// Получаем объект с интерфейсом для элемента
let can = dataCanvas(canvas);
let can2 = dataCanvas(canvas2);
```

##  Описания интерфейса
### Отрисовка:
```js
CH.draw(element = false, around = false);
```
Параметр:<br>
1. **element**:
	- Если пуст, то отрисовывает все имеющиеся элементы.
	- Принимает объект, который нужно отрисовать.
	- Принимает имя объекта который нужно отрисовать.
```js
can.draw(); // Если пуст, то отрисовывает все имеющиеся элементы.
can.draw(el); // Принимает объект, который нужно отрисовать.
can.draw("element name"); // Принимает имя объекта который нужно отрисовать.
```
2. **around** - отрисовать в обход ограничения **lock**
#### Количество отрисовок
Максимальное количество отрисовок всех элементов в 1 секунду, задаётся параметром **lock**
```js
// Стандартное значение
{
lock: 30
}
// Изменяем значение
can.lock = 60;
```
---
---
### Создание объекта
#### Тип "l" - Обычный четырёхугольник
```js
CH.drawLine(el = false, x = 0, y = 0, w = 0, h = 0, color = 'black', fill = true);
```
Параметр:<br>
1. **x** - Координата x<br>
2. **y** - Координата y<br>
3. **w** - Ширина<br>
4. **h** - Высота<br>
5. **color** - Цвет<br>
6. **fill**: `TRUE` - Залить фигуру, `FALSE` - Не заливать (контур фигуры)<br>
7. **el** - Объект состоящий из вышеуказанных параметров, а так же имеет параметр **name** - имя объекта.
```js
can.drawLine(false, 20, 300, 30, 10, "blue", false);
can.drawLine({ name: "элемент" }, 20, 250, 30, 10, "blue", false);
can.drawLine({ x: 140, y: 300, w: 200, h: 40, color: "red", name: "Square", fill: true });
```
---
#### Тип "o" - Произвольная фигура
```js
CH.drawObj(obj, conf = {
default: true,
type: 's',
color: "black",	widht: 1,
name: false,
cap: 'butt',
join: 'round',
limit: 1,
dash: [],
dashOffset: 0
});
```
Параметры:<br>
1. **obj** - Массив точек. Каждая точка состоит из массива `[ [x,y], [x,y] ]`.
```js
can.drawObj( [ [100, 200], [400, 200], [400, 400], [280, 400], [280, 250], [220, 250], [220, 400], [100, 400] ] );
```
2. **conf** - Конфигурация объекта. Параметры:<br>
	- **fill** - Заливать контур (`TRUE`) или нет (`FALSE`).<br>
	- **name** - Имя объекта. <br>
	- **color** - Цвет объекта. <br>
	- **widht** - Ширина контура. (**число**)<br>
	- **cap** - Форма отрисовки конечных точек линии ('**butt**','**round**','**square**').<br>
	- **join** - Форма вершин в которых линии сходятся ('**round**','**bevel**','**miter**').<br>
	- **limit** - Длина среза (расстояние между внутренним и внешнем углом, образованным пересечением двух линий). (**число**)<br>
	- **dash** - Патрн штрихов линии. (**массив чисел** от 2 и более - [ 10,20, ...])<br>
	- **dashOffset** - Устанавливает смещение штрихов. (**число**)<br>
```js
can.drawObj([[100, 200], [400, 200], [400, 400], [280, 400], [280, 250], [220, 250], [220, 400], [100, 400]],
 { fill: false, name: "Стены", color: "#663" , widht: 1, cap: 'butt', join: 'round', limit: 1, dash: [], dashOffset: 0});
```
---
#### Тип "c" -  Комбинированная фигура
```js
CH.combEl(objArr, genObj = false, name = false);
```
Параметры:<br>
1. **objArr** - Список (имён) объектов, которые нужно объединить. ["**Имя 1**", "**Имя 2**","**Имя 3**", "**Имя 4**"]<br>
2. **genObj** - Список имён главных объектов. На них будет распространяться `CH.activeEl()`. ["**Имя 1**", "**Имя 3**"]<br>
3. **name** - Имя объекта<br>
```js
can.combEl(["окно фон 1","Рама 1"],["окно фон 1"],"Окно 1");
can.combEl(["окно фон 2", "Рама 2"], ["окно фон 2"], "Окно 2");
can.combEl(["Стена", "Крыша", "Окно 1", "Окно 2", "Дверь", "Дверная ручка"], ["Стена", "Крыша"], "Дом");
```
---
---
### Удаление объекта
```js
CH.remove(name, update = true);
```
Параметры:
1. **name** - Имя объекта.
2. **update** - `TRUE` обновляет холст.
```js
can.remove("элемент");
```
---
---
### Запуск ивентов (не готово)
```js
CH.eventGo();
```
В данный момент метод не доработан. Он только отслеживает над какой фигурой он находится.<br>
Параметры связанные с методом:<br>
**activeName** - Имя объекта над которым находится курсор.
```js
can.activeName;
```
---
---
###  Анимация
```js
CH.roundDash(name, time = 30, st = 100, dash = [10, 3])
```
Анимация "бегающие муравьи".
Параметры:<br>
1. **name** - Имя объекта (оставьте пустым если хотите отменить все анимации).<br>
2. **time** - С каким периодом будет сдвигаться рисунок линии. Параметр указать в миллисекундах. (поставьте `FALSE` для отключения анимации на объекте **name** )<br>
3. **st** - Граница сдвига, достигнув которой, рисунок становится в исходное место. (**Число**).<br>
4. **dash** - Шаблон для рисунка. (Массив [10,20]. Если в массиве  нечётное количество элементов, то он удваивается [10,20,30] = [10,20,30,10,20,30]).
```js
can.roundDash("time", 20, 60, [10, 5]); // Создаём анимацию у объекта "time"

can.roundDash("time", false); // Убираем анимацию у объекта "time"

can.roundDash(); // Убираем анимацию у всех объектов
```
---
